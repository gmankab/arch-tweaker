#!/bin/bash

no_color='\033[0m'
green='\033[1;32m'
kgl="$HOME/.config/kdeglobals"
opensans="Open Sans,10,-1,5,50,0,0,0,0,0"

yes | sudo paru -Sy ttf-opensans ttf-jetbrains-mono

kwriteconfig5 --file "$HOME/.config/kcmfonts" --group "General" --key "forceFontDPI" "125"

kwriteconfig5 --file "$kgl" --group "KScreen" --key "ScaleFactor" "1.25"

kwriteconfig5 --file "$kgl" --group "General" --key "fixed" "JetBrains Mono,10,-1,5,57,0,0,0,0,0,Medium"

kwriteconfig5 --file "$kgl" --group "General" --key "font" 

kwriteconfig5 --file "$kgl" --group "General" --key "menuFont" "$opensans"

kwriteconfig5 --file "$kgl" --group "General" --key "smallestReadableFont" "$opensans"

kwriteconfig5 --file "$kgl" --group "General" --key "toolBarFont" "$opensans"

kwriteconfig5 --file "$HOME/.config/kscreenlockerrc" --group "Daemon" --key "Autolock" "false"

kwriteconfig5 --file "$HOME/.config/powermanagementprofilesrc" --group "AC" --group "DPMSControl" --key "idleTime" --delete

echo "setting display scale to 125%"
echo "font dpi forced to 125"
echo "default fonts changed to open sans and jet brains mono"
echo "disabled screen locking timeout"
echo -e "$green need to log out$no_color"

yes | sudo pacman -Sy python-pip

sudo pip install -U pip
sudo pip install dbus-python

chwp="$HOME/Desktop/ksetwallpaper.py"
wp="$HOME/Desktop/wp.png"
curl -L gmanka.tk/arch/kde/ksetwallpaper.py --output "$chwp"
curl -L gmanka.tk/arch/wb/blobs-d.png --output "$wp"

"$chwp" -f "$wp"
"$chwp" -l -f "$wp"
